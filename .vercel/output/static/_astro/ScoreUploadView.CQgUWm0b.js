import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as n}from"./index.JXKNaeUN.js";import{a as c,A as w,C as y,S as d,B as k}from"./Components.R871H6Pk.js";import{b as C,l as T,j as B}from"./mockData.Bh2CDAX5.js";function D(){const[l,h]=n.useState(""),[u,p]=n.useState(""),[o,j]=n.useState({}),[v,i]=n.useState(!1),b=l?C.filter(s=>s.class===l.split(" ")[0]):[],x=(s,a,r)=>{const t=Math.min(Math.max(0,Number(r)||0),a==="exam"?70:30);j(m=>{const S={...m[s]||{ca:0,exam:0},[a]:t};return{...m,[s]:S}})},g=()=>{i(!0),setTimeout(()=>i(!1),3e3)},f=s=>{const a=o[s]||{ca:0,exam:0};return a.ca+a.exam},N=s=>s>=70?"A":s>=60?"B":s>=50?"C":s>=45?"D":s>=40?"E":"F";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-white",children:"Upload Scores"}),e.jsx("p",{className:"text-neutral-500 mt-1",children:"Enter continuous assessment and exam scores"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(c,{variant:"outline",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Import Excel"]}),e.jsxs(c,{variant:"outline",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download Template"]})]})]}),v&&e.jsx(w,{variant:"success",onClose:()=>i(!1),children:"Scores uploaded successfully! Results are now pending approval."}),e.jsxs(y,{children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[e.jsx(d,{label:"Class",options:T.map(s=>({value:s.name,label:s.name})),value:l,onChange:s=>h(s.target.value),placeholder:"Select Class"}),e.jsx(d,{label:"Subject",options:B.map(s=>({value:s.code,label:s.name})),value:u,onChange:s=>p(s.target.value),placeholder:"Select Subject"}),e.jsx(d,{label:"Term",options:[{value:"1",label:"First Term"},{value:"2",label:"Second Term"},{value:"3",label:"Third Term"}],defaultValue:"1"})]}),l&&u?e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:"text-xs text-neutral-500 uppercase bg-neutral-50 dark:bg-neutral-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3",children:"Student Name"}),e.jsx("th",{className:"px-4 py-3",children:"Reg Number"}),e.jsx("th",{className:"px-4 py-3 w-32",children:"CA (30)"}),e.jsx("th",{className:"px-4 py-3 w-32",children:"Exam (70)"}),e.jsx("th",{className:"px-4 py-3 w-24",children:"Total"}),e.jsx("th",{className:"px-4 py-3 w-24",children:"Grade"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200 dark:divide-neutral-700",children:b.map(s=>{const a=f(s.id),r=N(a);return e.jsxs("tr",{className:"bg-white dark:bg-neutral-900 hover:bg-neutral-50 dark:hover:bg-neutral-800",children:[e.jsxs("td",{className:"px-4 py-3 font-medium text-neutral-900 dark:text-white",children:[s.firstName," ",s.lastName]}),e.jsx("td",{className:"px-4 py-3 text-neutral-500 font-mono",children:s.regNumber}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"number",min:"0",max:"30",className:"w-full px-3 py-1.5 rounded-lg border border-neutral-300 dark:border-neutral-700 bg-transparent focus:ring-2 focus:ring-primary-500",value:o[s.id]?.ca||"",onChange:t=>x(s.id,"ca",t.target.value)})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"number",min:"0",max:"70",className:"w-full px-3 py-1.5 rounded-lg border border-neutral-300 dark:border-neutral-700 bg-transparent focus:ring-2 focus:ring-primary-500",value:o[s.id]?.exam||"",onChange:t=>x(s.id,"exam",t.target.value)})}),e.jsx("td",{className:"px-4 py-3 font-bold text-neutral-900 dark:text-white",children:a}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(k,{variant:r==="A"?"success":r==="B"?"info":r==="C"?"warning":r==="F"?"danger":"neutral",children:r})})]},s.id)})})]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx(c,{variant:"ghost",children:"Save Draft"}),e.jsx(c,{onClick:g,children:"Submit Scores"})]})]}):e.jsxs("div",{className:"text-center py-12 text-neutral-500",children:[e.jsx("svg",{className:"w-12 h-12 mx-auto mb-4 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),e.jsx("p",{children:"Please select a class and subject to start entering scores"})]})]})]})}export{D as default};
