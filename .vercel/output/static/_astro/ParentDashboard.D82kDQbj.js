import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as v}from"./index.JXKNaeUN.js";import{C as d,b as N,B as l,c as x}from"./Components.R871H6Pk.js";import{p as b,b as m,c as u,f as j,a as k}from"./mockData.Bh2CDAX5.js";import{g as w,f as o,a as y}from"./helpers.BkNzDKpq.js";function M(){const i=b[0],[n,g]=v.useState(i.children[0]),a=m.find(s=>s.id===n)||m[0],c=u.find(s=>s.studentId===n)||u[0],t=j.find(s=>s.studentId===n)||j[0],f=k.slice(0,3),h=i.children.map(s=>{const r=m.find(p=>p.id===s);return{value:s,label:r?`${r.firstName} ${r.lastName}`:`Child ${s}`}});return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"card p-6 bg-gradient-to-r from-secondary-600 to-secondary-800 text-white border-0",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold",children:["Welcome, ",i.title," ",i.lastName,"! ðŸ‘‹"]}),e.jsx("p",{className:"text-secondary-100 mt-1",children:"Monitor your child's academic progress"})]}),e.jsx("div",{className:"flex items-center gap-3",children:h.length>1&&e.jsx("select",{value:n,onChange:s=>g(Number(s.target.value)),className:"bg-white/20 border-0 text-white rounded-xl px-4 py-2 focus:ring-2 focus:ring-white/50",children:h.map(s=>e.jsx("option",{value:s.value,className:"text-neutral-900",children:s.label},s.value))})})]})}),e.jsx(d,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[e.jsx(N,{name:`${a.firstName} ${a.lastName}`,size:"xl"}),e.jsxs("div",{className:"text-center sm:text-left flex-1",children:[e.jsxs("h2",{className:"text-xl font-bold text-neutral-900 dark:text-white",children:[a.firstName," ",a.lastName]}),e.jsxs("p",{className:"text-neutral-500",children:[a.class," ",a.arm]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 justify-center sm:justify-start",children:[e.jsx(l,{variant:"info",children:a.regNumber}),e.jsx(l,{variant:"success",children:a.status})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("a",{href:"/parent/results",className:"btn-primary",children:"View Results"}),e.jsx("a",{href:"/parent/fees",className:"btn-outline",children:"Check Fees"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(x,{label:"Average Score",value:`${c?.average?.toFixed(1)||0}%`,icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),iconBg:"bg-primary-100 text-primary-600 dark:bg-primary-900/30 dark:text-primary-400"}),e.jsx(x,{label:"Class Position",value:`${c?.position||"-"}/${c?.classSize||"-"}`,icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),iconBg:"bg-secondary-100 text-secondary-600 dark:bg-secondary-900/30 dark:text-secondary-400"}),e.jsx(x,{label:"Attendance",value:"95%",icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),iconBg:"bg-success-50 text-success-600 dark:bg-success-600/20 dark:text-success-500"}),e.jsx(x,{label:"Fee Status",value:t?.status||"N/A",icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),iconBg:t?.status==="Paid"?"bg-success-50 text-success-600 dark:bg-success-600/20 dark:text-success-500":"bg-warning-50 text-warning-600 dark:bg-warning-600/20 dark:text-warning-500"})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(d,{title:"Recent Results",subtitle:"First Term 2025/2026",action:e.jsx("a",{href:"/parent/results",className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"View All â†’"}),children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Subject"}),e.jsx("th",{className:"text-center",children:"Score"}),e.jsx("th",{className:"text-center",children:"Grade"}),e.jsx("th",{children:"Remark"})]})}),e.jsx("tbody",{children:c?.results?.slice(0,5).map((s,r)=>e.jsxs("tr",{children:[e.jsx("td",{className:"font-medium",children:s.subject}),e.jsxs("td",{className:"text-center font-semibold",children:[s.total,"/100"]}),e.jsx("td",{className:`text-center ${w(s.grade)}`,children:s.grade}),e.jsx("td",{children:e.jsx(l,{variant:s.total>=70?"success":s.total>=50?"info":"danger",children:s.remark})})]},r))})]})})})}),e.jsx("div",{children:e.jsxs(d,{title:"Fee Summary",action:e.jsx("a",{href:"/parent/fees",className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"Details â†’"}),children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("p",{className:"text-3xl font-bold text-neutral-900 dark:text-white",children:o(t?.amountPaid||0)}),e.jsxs("p",{className:"text-neutral-500 text-sm",children:["Paid of ",o(22e4)]})]}),e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"h-3 bg-neutral-200 dark:bg-neutral-700 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full ${t?.status==="Paid"?"bg-success-500":"bg-warning-500"}`,style:{width:`${t?.amountPaid/22e4*100}%`}})})}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-success-600",children:["Paid: ",o(t?.amountPaid||0)]}),e.jsxs("span",{className:"text-danger-600",children:["Due: ",o(t?.amountDue||0)]})]}),e.jsx("div",{className:`mt-4 p-3 rounded-xl text-center ${t?.status==="Paid"?"bg-success-50 dark:bg-success-600/10 text-success-700 dark:text-success-400":"bg-warning-50 dark:bg-warning-600/10 text-warning-700 dark:text-warning-400"}`,children:e.jsx(l,{variant:t?.status==="Paid"?"success":"warning",children:t?.status})})]})})]}),e.jsx(d,{title:"School Announcements",action:e.jsx("a",{href:"/parent/announcements",className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"View All â†’"}),children:e.jsx("div",{className:"divide-y divide-neutral-200 dark:divide-neutral-700",children:f.map(s=>e.jsx("div",{className:"py-4 first:pt-0 last:pb-0",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 ${s.priority==="high"?"bg-danger-100 text-danger-600 dark:bg-danger-600/20 dark:text-danger-400":"bg-accent-100 text-accent-600 dark:bg-accent-600/20 dark:text-accent-400"}`,children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-white",children:s.title}),s.priority==="high"&&e.jsx(l,{variant:"danger",children:"Important"})]}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 line-clamp-2",children:s.content}),e.jsxs("p",{className:"text-xs text-neutral-500 mt-2",children:[y(s.date)," â€¢ ",s.author]})]})]})},s.id))})})]})}export{M as default};
